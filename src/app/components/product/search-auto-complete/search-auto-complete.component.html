<div class="relative w-full max-w-md">
  <input
    type="text"
    [formControl]="searchControl"
    placeholder="Search products..."
    class="w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500"
  />

  <div *ngIf="loading()" class="p-2 text-sm text-gray-400">Loading...</div>

  <div *ngIf="!loading() && (results().products.length || results().tags.length)"
       class="absolute w-full bg-white border rounded-lg shadow-lg mt-1 z-50 p-2 space-y-2">
    
    <!-- ðŸ”– Tags -->
    <div *ngIf="results().tags.length" class="border-b pb-2">
      <p class="text-xs text-gray-500 uppercase mb-1">Tags</p>
      <div *ngFor="let tag of results().tags"
           (mousedown)="selectTag(tag)"
           class="px-2 py-1 cursor-pointer hover:bg-gray-100 rounded">
        ðŸ”– {{ tag }}
      </div>
    </div>

    <!-- ðŸ“¦ Products -->
    <div *ngIf="results().products.length">
      <p class="text-xs text-gray-500 uppercase mb-1">Products</p>
      <div *ngFor="let product of results().products"
           (mousedown)="selectProduct(product.id)"
           class="flex items-center gap-2 px-2 py-1 cursor-pointer hover:bg-gray-100 rounded">
        <img [src]="product.imageUrl" alt="{{product.name}}" class="w-8 h-8 rounded object-cover" />
        <span>{{ product.name }}</span>
      </div>
    </div>
  </div>
</div>
