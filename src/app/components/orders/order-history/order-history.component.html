<div class="container mx-auto px-4 sm:px-6 lg:px-8 mt-10">
    <!-- dark:bg-gray-800 -->
  <div class="bg-white  shadow-md rounded-lg p-6 lg:p-10">
    <h2 class="text-3xl font-semibold text-gray-800 mb-8 text-center lg:text-left">üßæ Order History</h2>

    <div *ngIf="loading()">Loading your orders...</div>

    <div *ngIf="!loading() && orders().length === 0" class="text-gray-500 text-center py-10">
      <p>No orders found üõç</p>
      <a routerLink="/products" class="text-blue-600 hover:underline">Continue Shopping</a>
    </div>

    <div *ngFor="let order of orders()" class="border rounded-lg p-6 mb-6 hover:shadow-lg transition">
      <div class="flex flex-col lg:flex-row lg:items-center justify-between mb-4">
        <div>
          <p class="text-gray-500 text-sm">Order #{{ order.orderNumber }}</p>
          <p class="text-gray-500 text-sm">Placed: {{ order.orderPlacedAt | date:'medium' }}</p>
        </div>
        <span
          class="mt-2 lg:mt-0 px-3 py-1 rounded-full text-xs font-medium"
          [ngClass]="{
            'bg-green-100 text-green-800': order.orderStatus === 'Delivered',
            'bg-yellow-100 text-yellow-800': order.orderStatus === 'Pending',
            'bg-red-100 text-red-800': order.orderStatus === 'Cancelled'
          }"
        >
          {{ order.orderStatus }}
        </span>
      </div>

      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 border-t pt-4"
      >
        <div
          *ngFor="let item of order.items"
          class="flex gap-4 border rounded-lg p-3 bg-gray-50 hover:bg-gray-100 transition"
        >
          <img
            [src]="item.imageUrl"
            alt="{{ item.productName }}"
            class="w-16 h-16 sm:w-20 sm:h-20 rounded border object-cover"
          />
          <div class="flex flex-col justify-between">
            <p class="font-semibold text-gray-800 text-sm sm:text-base">
              {{ item.productName }}
            </p>
            <p class="text-gray-600 text-xs sm:text-sm">
              ‚Çπ{{ item.price }} √ó {{ item.quantity }}
            </p>
            <p class="font-semibold text-green-600 text-sm sm:text-base">
              ‚Çπ{{ item.price * item.quantity }}
            </p>
          </div>
        </div>
      </div>

      <div class="flex justify-between items-center mt-6 border-t pt-4">
        <span class="font-semibold text-gray-700 text-lg"
          >Total: ‚Çπ{{ order.totalAmount }}</span
        >
        <span
          class="text-sm font-medium"
          [ngClass]="{
            'text-green-600': order.isPaid,
            'text-orange-600': !order.isPaid
          }"
          >{{ order.isPaid ? 'Paid' : 'Cash on Delivery' }}</span
        >
      </div>
    </div>
  </div>
</div>
